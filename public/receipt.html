<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment Successful</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-[#f8f6ef] min-h-screen font-serif relative">

    <!-- ✅ Top-Left Logo -->
    <div class="absolute top-6 left-6 flex items-center gap-2 text-2xl font-bold text-[#7dde83]">
      <img
        src="/assets/Logo.png"
        alt="Website Logo"
        class="w-10 h-10 rounded-full object-cover"
      />
      <span>HarvestLoop</span>
    </div>

    <!-- ✅ Centered Payment Success Card -->
    <div class="flex items-center justify-center min-h-screen">
      <div class="bg-[#f8f6ef] rounded-xl shadow-2xl px-8 py-10 w-full max-w-md text-center">

        <!-- PNG Payment Icon -->
        <div class="flex justify-center mb-6">
          <img
            src="/assets/payment icon.png"
            alt="Payment Successful"
            class="w-14 h-14 object-contain"
          />
        </div>

        <!-- Title -->
        <h1 class="text-2xl font-extrabold text-gray-900 mb-2">
          Payment Successful!
        </h1>
        <p class="text-sm text-gray-700 mb-8">
          Thank you for subscribing to HarvestLoop. Your receipt is below.
        </p>

        <!-- Receipt Summary -->
        <div class="bg-[#fff6e5] border border-[#f5e6c8] rounded-md px-5 py-4 text-left">
          <h2 class="font-bold text-lg text-center mb-3">Receipt Summary</h2>

          <div class="flex justify-between text-sm py-1 border-b border-[#e6d9be]">
            <span class="text-gray-700">Transaction ID:</span>
            <span class="text-gray-900 font-medium" id="txid">Loading...</span>
          </div>

          <div class="flex justify-between text-sm py-1 border-b border-[#e6d9be]">
            <span class="text-gray-700">Date:</span>
            <span class="text-gray-900 font-medium" id="date">Loading...</span>
          </div>

          <div class="flex justify-between text-sm py-1 border-b border-[#e6d9be]">
            <span class="text-gray-700">Plan:</span>
            <span class="text-gray-900 font-medium" id="plan">Loading...</span>
          </div>

          <div class="flex justify-between text-sm py-1 border-b border-[#e6d9be]">
            <span class="text-gray-700">Duration:</span>
            <span class="text-gray-900 font-medium" id="duration">Loading...</span>
          </div>

          <div class="flex justify-between text-sm py-1 border-b border-[#e6d9be]">
            <span class="text-gray-700">Farmer Access:</span>
            <span class="text-gray-900 font-medium" id="farmers">Loading...</span>
          </div>

          <div class="flex justify-between items-center text-base font-bold pt-3">
            <span>Amount Paid:</span>
            <span class="text-black" id="amount">Loading...</span>
          </div>
        </div>

        <!-- Button -->
        <button
          onclick="window.location.href='login.html'"
          class="mt-6 w-full bg-[#4ded80] hover:bg-[#3ddf70] text-black font-semibold py-2 rounded"
        >
          Continue to Dashboard
        </button>

        <!-- Footer Note -->
        <p class="text-xs text-gray-500 mt-4">
          A confirmation email has been sent to your registered address. If you
          have any questions, please contact support.
        </p>
      </div>
    </div>

    <!-- ✅ JavaScript to load URL parameters -->
    <script>
      const params = new URLSearchParams(window.location.search);
      const txid = params.get("txid") || "Not available";
      const plan = params.get("plan") || "Not available";
      const amount = params.get("amount") || "0.00";
      const duration = params.get("duration") || "-";
      const farmers = params.get("farmers") || "-";
      const date = new Date().toLocaleString();

      document.getElementById("txid").textContent = txid;
      document.getElementById("plan").textContent = plan;
      document.getElementById("amount").textContent = `₹${amount}`;
      document.getElementById("date").textContent = date;
      document.getElementById("duration").textContent = duration + (duration !== '-' ? (duration == 1 ? ' month' : ' months') : '');
      document.getElementById("farmers").textContent = farmers + (farmers !== '-' ? ' farmer details' : '');
    </script>
  </body>
</html>
